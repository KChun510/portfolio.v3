{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/toastycommand/Desktop/portfolio.v3/db_actions/connection.ts"],"sourcesContent":["import Database from \"better-sqlite3\";\nimport path from \"path\";\n\nexport function openDB() {\n\t//\tconst dbPath = path.join(process.cwd(), \"user_info.db\");\n\tconst dbPath = path.join(process.cwd(), \"db_actions\", \"user_info.db\");\n\treturn new Database(dbPath, { verbose: () => { } });\n}\n\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IACf,2DAA2D;IAC3D,MAAM,SAAS,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc;IACtD,OAAO,IAAI,2HAAA,CAAA,UAAQ,CAAC,QAAQ;QAAE,SAAS,KAAQ;IAAE;AAClD","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/toastycommand/Desktop/portfolio.v3/db_actions/sessions.ts"],"sourcesContent":["import { openDB } from \"./connection\";\nexport function createSession(session_id: string, user_tag: string, song_names: string[]) {\n\tconst db = openDB()\n\tconst song_string = JSON.stringify(song_names)\n\tdb.prepare(\n\t\t\"INSERT INTO sessions (session_id, user_tag, song_names, created_at) VALUES (?, ?, ?,datetime('now'))\"\n\t).run(session_id, user_tag, song_string)\n}\n\nexport function select_all_sessions() {\n\tconst db = openDB()\n\tconst data: any = db.prepare(\"SELECT user_tag, song_names FROM sessions WHERE user_tag IS NOT NULL\").all()\n\tconst formatted_data = data.map(({ user_tag, song_names }: any) => ({\n\t\tuser_tag,\n\t\tsong_names: JSON.parse(song_names)\n\t}));\n\n\treturn formatted_data\n}\n\nexport function updateSession(session_id: string, user_tag: string, song_names: string[]) {\n\tconst db = openDB();\n\tconst song_string = JSON.stringify(song_names)\n\n\treturn db.prepare(\n\t\t\"UPDATE sessions SET user_tag = ?, song_names = ? WHERE session_id = ?\"\n\t).run(user_tag, song_string, session_id)\n}\n\nexport function getSession(sessionId: string) {\n\tconst db = openDB()\n\treturn db.prepare(\"SELECT * FROM sessions WHERE session_id = ?\").get(sessionId)\n}\n\nexport function deleteSession(sessionId: string) {\n\tconst db = openDB()\n\tdb.prepare(\"DELETE FROM sessions WHERE session_id = ?\").run(sessionId)\n}\n\n\n(function main() {\n\tconsole.log(select_all_sessions())\n})()\n\n\n"],"names":[],"mappings":";;;;;;;AAAA;;AACO,SAAS,cAAc,UAAkB,EAAE,QAAgB,EAAE,UAAoB;IACvF,MAAM,KAAK,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD;IAChB,MAAM,cAAc,KAAK,SAAS,CAAC;IACnC,GAAG,OAAO,CACT,wGACC,GAAG,CAAC,YAAY,UAAU;AAC7B;AAEO,SAAS;IACf,MAAM,KAAK,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD;IAChB,MAAM,OAAY,GAAG,OAAO,CAAC,wEAAwE,GAAG;IACxG,MAAM,iBAAiB,KAAK,GAAG,CAAC,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAO,GAAK,CAAC;YACnE;YACA,YAAY,KAAK,KAAK,CAAC;QACxB,CAAC;IAED,OAAO;AACR;AAEO,SAAS,cAAc,UAAkB,EAAE,QAAgB,EAAE,UAAoB;IACvF,MAAM,KAAK,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD;IAChB,MAAM,cAAc,KAAK,SAAS,CAAC;IAEnC,OAAO,GAAG,OAAO,CAChB,yEACC,GAAG,CAAC,UAAU,aAAa;AAC9B;AAEO,SAAS,WAAW,SAAiB;IAC3C,MAAM,KAAK,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD;IAChB,OAAO,GAAG,OAAO,CAAC,+CAA+C,GAAG,CAAC;AACtE;AAEO,SAAS,cAAc,SAAiB;IAC9C,MAAM,KAAK,CAAA,GAAA,0HAAA,CAAA,SAAM,AAAD;IAChB,GAAG,OAAO,CAAC,6CAA6C,GAAG,CAAC;AAC7D;AAGA,CAAC,SAAS;IACT,QAAQ,GAAG,CAAC;AACb,CAAC","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/toastycommand/Desktop/portfolio.v3/src/app/api/session/select_all_session/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { select_all_sessions } from \"../../../../../db_actions/sessions\";\n\nexport async function GET() {\n\ttry {\n\t\tconst data = select_all_sessions()\n\t\treturn NextResponse.json(data, { status: 200 })\n\t} catch (err) {\n\t\treturn NextResponse.json({ status: 500, statusText: err })\n\t}\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,eAAe;IACrB,IAAI;QACH,MAAM,OAAO,CAAA,GAAA,wHAAA,CAAA,sBAAmB,AAAD;QAC/B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,MAAM;YAAE,QAAQ;QAAI;IAC9C,EAAE,OAAO,KAAK;QACb,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,QAAQ;YAAK,YAAY;QAAI;IACzD;AACD","debugId":null}}]
}